<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>css | 浮想</title><meta name="keywords" content="前端"><meta name="author" content="Ethan"><meta name="copyright" content="Ethan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文轉自微信公衆號 - 大海我來了原文地址 1.5 萬字 CSS 基礎拾遺（核心知識、常見需求） 本篇文章圍繞了 CSS 的核心知識點和項目中常見的需求來展開。雖然行文偏長，但偏基礎，適合初級中級前端閲讀，閲讀的時候請適當跳過已經掌握的部分。 這篇文章斷斷續續寫了比較久，也參考了許多優秀的文章，但或許文章裏還是存在不好或不對的地方，請多多指教，可以評論裏直接提出來哈。 小 tip：後續內容更精彩哦">
<meta property="og:type" content="article">
<meta property="og:title" content="css">
<meta property="og:url" content="https://virgodor.github.io/2022/02/14/css/index.html">
<meta property="og:site_name" content="浮想">
<meta property="og:description" content="本文轉自微信公衆號 - 大海我來了原文地址 1.5 萬字 CSS 基礎拾遺（核心知識、常見需求） 本篇文章圍繞了 CSS 的核心知識點和項目中常見的需求來展開。雖然行文偏長，但偏基礎，適合初級中級前端閲讀，閲讀的時候請適當跳過已經掌握的部分。 這篇文章斷斷續續寫了比較久，也參考了許多優秀的文章，但或許文章裏還是存在不好或不對的地方，請多多指教，可以評論裏直接提出來哈。 小 tip：後續內容更精彩哦">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg">
<meta property="article:published_time" content="2022-02-14T15:24:00.000Z">
<meta property="article:modified_time" content="2022-02-14T15:24:09.748Z">
<meta property="article:author" content="Ethan">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://virgodor.github.io/2022/02/14/css/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ce395b6c5c29136591b9ac2d52f03e69";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":50},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'css',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-14 23:24:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./images/tx.PNG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">浮想</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">css</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-02-14T15:24:00.000Z" title="发表于 2022-02-14 23:24:00">2022-02-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-14T15:24:09.748Z" title="更新于 2022-02-14 23:24:09">2022-02-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>51分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="css"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>本文轉自微信公衆號 - 大海我來了<br>原文地址 <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/UtYENocSsl0R10h8fww7Iw">1.5 萬字 CSS 基礎拾遺（核心知識、常見需求）</a></p>
<p>本篇文章圍繞了 CSS 的核心知識點和項目中常見的需求來展開。雖然行文偏長，但偏基礎，適合初級中級前端閲讀，閲讀的時候請適當跳過已經掌握的部分。</p>
<p>這篇文章斷斷續續寫了比較久，也參考了許多優秀的文章，但或許文章裏還是存在不好或不對的地方，請多多指教，可以評論裏直接提出來哈。</p>
<p>小 tip：後續內容更精彩哦。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h2 id="核心概念和知識點"><a href="#核心概念和知識點" class="headerlink" title="核心概念和知識點"></a><a href="about:blank#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E5%92%8C%E7%9F%A5%E8%AD%98%E9%BB%9E" title="核心概念和知識點"></a>核心概念和知識點</h2><h3 id="語法"><a href="#語法" class="headerlink" title="語法"></a><a href="about:blank#%E8%AA%9E%E6%B3%95" title="語法"></a>語法</h3><p>CSS 的核心功能是將 CSS 屬性設定為特定的值。一個屬性與值的鍵值對被稱為<strong>聲明</strong>（declaration）。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">color</span>:&nbsp;red;</span><br></pre></td></tr></tbody></table>

<p>而如果將一個或者多個聲明用 <code>&#123;&#125;</code> 包裹起來後，那就組成了一個<strong>聲明塊</strong>（declaration block）。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;red;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">text-align</span>:&nbsp;center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>聲明塊如果需要作用到對應的 HTML 元素，那還需要加上<strong>選擇器</strong>。選擇器和聲明塊組成了 <strong>CSS 規則集</strong>（CSS ruleset），常簡稱為 CSS 規則。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;red;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">text-align</span>:&nbsp;center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<blockquote>
<p>規則集中最後一條聲明可以省略分號，但是並不建議這麼做，因為容易出錯。</p>
</blockquote>
<p>CSS 中的<strong>註釋</strong>：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&nbsp;單行註釋&nbsp;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;多行</span></span><br><span class="line"><span class="comment">&nbsp;&nbsp;&nbsp;&nbsp;註釋</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table>

<p>在 CSS 文件中，除了註釋、CSS 規則集以及 @規則 外，定義的一些別的東西都將被瀏覽器忽略。</p>
<h3 id="規則"><a href="#規則" class="headerlink" title="@規則"></a><a href="about:blank#%E8%A6%8F%E5%89%87" title="@規則"></a>@規則</h3><p>CSS 規則是樣式表的主體，通常樣式表會包括大量的規則列表。但有時候也需要在樣式表中包括其他的一些信息，比如字符集，導入其它的外部樣式表，字體等，這些需要專門的語句表示。</p>
<p>而 @規則 就是這樣的語句。CSS 裏包含了以下 @規則：</p>
<ul>
<li><p>@namespace 告訴 CSS 引擎必須考慮 XML 命名空間。</p>
</li>
<li><p>@media, 如果滿足媒體查詢的條件則條件規則組裏的規則生效。</p>
</li>
<li><p>@page, 描述打印文檔時佈局的變化.</p>
</li>
<li><p>@font-face, 描述將下載的外部的字體。</p>
</li>
<li><p>@keyframes, 描述 CSS 動畫的關鍵幀。</p>
</li>
<li><p>@document, 如果文檔樣式表滿足給定條件則條件規則組裏的規則生效。 (推延至 CSS Level 4 規範)</p>
</li>
</ul>
<p>除了以上這幾個之外，下面還將對幾個比較生澀的 @規則 進行介紹。</p>
<h4 id="charset"><a href="#charset" class="headerlink" title="@charset"></a><a href="about:blank#charset" title="@charset"></a>@charset</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@charset">@charset</a> 用於定義樣式表使用的字符集。它必須是樣式表中的第一個元素。如果有多個 <code>@charset</code> 被聲明，只有第一個會被使用，而且不能在 HTML 元素或 HTML 頁面的 <code>&lt;style&gt;</code> 元素內使用。</p>
<p>注意：值必須是雙引號包裹，且和</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span>&nbsp;<span class="string">"UTF-8"</span>;</span><br></pre></td></tr></tbody></table>

<p>平時寫樣式文件都沒寫 @charset 規則，那這個 CSS 文件到底是用的什麼字符編碼的呢？</p>
<p>某個樣式表文件到底用的是什麼字符編碼，瀏覽器有一套識別順序（優先級由高到低）：</p>
<ul>
<li><p>文件開頭的 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Byte_order_mark">Byte order mark</a> 字符值，不過一般編輯器並不能看到文件頭裏的 BOM 值；</p>
</li>
<li><p>HTTP 響應頭裏的 <code>content-type</code> 字段包含的 <code>charset</code> 所指定的值，比如：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content</span>-Type:&nbsp;text/css;&nbsp;charset=utf-<span class="number">8</span></span><br></pre></td></tr></tbody></table>
</li>
<li><p>CSS 文件頭裏定義的 @charset 規則裏指定的字符編碼；</p>
</li>
<li><p><code>&lt;link&gt;</code> 標籤裏的 charset 屬性，該條已在 HTML5 中廢除；</p>
</li>
<li><p>默認是 <code>UTF-8</code>。</p>
</li>
</ul>
<h4 id="import"><a href="#import" class="headerlink" title="@import"></a><a href="about:blank#import" title="@import"></a>@import</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@import">@import</a> 用於告訴 CSS 引擎引入一個外部樣式表。</p>
<p>link 和 @import 都能導入一個樣式文件，它們有什麼區別嘛？</p>
<ul>
<li><p>link 是 HTML 標籤，除了能導入 CSS 外，還能導入別的資源，比如圖片、腳本和字體等；而 @import 是 CSS 的語法，只能用來導入 CSS；</p>
</li>
<li><p>link 導入的樣式會在頁面加載時同時加載，@import 導入的樣式需等頁面加載完成後再加載；</p>
</li>
<li><p>link 沒有兼容性問題，@import 不兼容 ie5 以下；</p>
</li>
<li><p>link 可以通過 JS 操作 DOM 動態引入樣式表改變樣式，而 @import 不可以。</p>
</li>
</ul>
<h4 id="supports"><a href="#supports" class="headerlink" title="@supports"></a><a href="about:blank#supports" title="@supports"></a>@supports</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@supports">@supports</a> 用於查詢特定的 CSS 是否生效，可以結合 not、and 和 or 操作符進行後續的操作。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&nbsp;如果支持自定義屬性，則把&nbsp;body&nbsp;顏色設置為變量&nbsp;varName&nbsp;指定的顏色&nbsp;*/</span></span><br><span class="line"><span class="keyword">@supports</span>&nbsp;(<span class="attribute">--foo</span>:&nbsp;green)&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="selector-tag">body</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">var</span>(--varName);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<h3 id="層疊性"><a href="#層疊性" class="headerlink" title="層疊性"></a><a href="about:blank#%E5%B1%A4%E7%96%8A%E6%80%A7" title="層疊性"></a>層疊性</h3><p>層疊樣式表，這裏的層疊怎麼理解呢？其實它是 CSS 中的核心特性之一，用於合併來自多個源的屬性值的算法。比如説針對某個 HTML 標籤，有許多的 CSS 聲明都能作用到的時候，那最後誰應該起作用呢？層疊性説的大概就是這個。</p>
<p>針對不同源的樣式，將按照如下的順序進行層疊，越往下優先級越高：</p>
<ul>
<li><p>用户代理樣式表中的聲明 (例如，瀏覽器的默認樣式，在沒有設置其他樣式時使用)。</p>
</li>
<li><p><del>用户樣式表中的常規聲明 (由用户設置的自定義樣式。由於 Chrome 在很早的時候就放棄了用户樣式表的功能，所以這裏將不再考慮它的排序。)。</del></p>
</li>
<li><p>作者樣式表中的常規聲明 (這些是我們 Web 開發人員設置的樣式)。</p>
</li>
<li><p>作者樣式表中的 !important 聲明。</p>
</li>
<li><p><del>用户樣式表中的 !important 聲明 S。</del></p>
</li>
</ul>
<p>理解層疊性的時候需要結合 CSS 選擇器的優先級以及繼承性來理解。比如針對同一個選擇器，定義在後面的聲明會覆蓋前面的；作者定義的樣式會比默認繼承的樣式優先級更高。</p>
<h3 id="選擇器"><a href="#選擇器" class="headerlink" title="選擇器"></a><a href="about:blank#%E9%81%B8%E6%93%87%E5%99%A8" title="選擇器"></a>選擇器</h3><p>CSS 選擇器無疑是其核心之一，對於基礎選擇器以及一些常用偽類必須掌握。下面列出了常用的選擇器。 想要獲取更多選擇器的用法可以看 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors">MDN CSS Selectors</a>。</p>
<h4 id="基礎選擇器"><a href="#基礎選擇器" class="headerlink" title="基礎選擇器"></a><a href="about:blank#%E5%9F%BA%E7%A4%8E%E9%81%B8%E6%93%87%E5%99%A8" title="基礎選擇器"></a>基礎選擇器</h4><ul>
<li><p>標籤選擇器：<code>h1</code></p>
</li>
<li><p>類選擇器：<code>.checked</code></p>
</li>
<li><p>ID 選擇器：<code>#picker</code></p>
</li>
<li><p>通配選擇器：<code>*</code></p>
</li>
</ul>
<p><strong>屬性選擇器</strong></p>
<ul>
<li><p><code>[attr]</code>：指定屬性的元素；</p>
</li>
<li><p><code>[attr=val]</code>：屬性等於指定值的元素；</p>
</li>
<li><p><code>[attr*=val]</code>：屬性包含指定值的元素；</p>
</li>
<li><p><code>[attr^=val]</code> ：屬性以指定值開頭的元素；</p>
</li>
<li><p><code>[attr$=val]</code>：屬性以指定值結尾的元素；</p>
</li>
<li><p><code>[attr~=val]</code>：屬性包含指定值 (完整單詞) 的元素(不推薦使用)；</p>
</li>
<li><p><code>[attr|=val]</code>：屬性以指定值 (完整單詞) 開頭的元素(不推薦使用)；</p>
</li>
</ul>
<h4 id="組合選擇器"><a href="#組合選擇器" class="headerlink" title="組合選擇器"></a><a href="about:blank#%E7%B5%84%E5%90%88%E9%81%B8%E6%93%87%E5%99%A8" title="組合選擇器"></a>組合選擇器</h4><ul>
<li><p>相鄰兄弟選擇器：<code>A + B</code></p>
</li>
<li><p>普通兄弟選擇器：<code>A ~ B</code></p>
</li>
<li><p>子選擇器：<code>A &gt; B</code></p>
</li>
<li><p>後代選擇器：<code>A B</code></p>
</li>
</ul>
<h4 id="偽類"><a href="#偽類" class="headerlink" title="偽類"></a><a href="about:blank#%E5%81%BD%E9%A1%9E" title="偽類"></a>偽類</h4><p><strong>條件偽類</strong></p>
<ul>
<li><p><code>:lang()</code>：基於元素語言來匹配頁面元素；</p>
</li>
<li><p><code>:dir()</code>：匹配特定文字書寫方向的元素；</p>
</li>
<li><p><code>:has()</code>：匹配包含指定元素的元素；</p>
</li>
<li><p><code>:is()</code>：匹配指定選擇器列表裏的元素；</p>
</li>
<li><p><code>:not()</code>：用來匹配不符合一組選擇器的元素；</p>
</li>
</ul>
<p><strong>行為偽類</strong></p>
<ul>
<li><p><code>:active</code>：鼠標激活的元素；</p>
</li>
<li><p><code>:hover</code>： 鼠標懸浮的元素；</p>
</li>
<li><p><code>::selection</code>：鼠標選中的元素；</p>
</li>
</ul>
<p><strong>狀態偽類</strong></p>
<ul>
<li><p><code>:target</code>：當前錨點的元素；</p>
</li>
<li><p><code>:link</code>：未訪問的鏈接元素；</p>
</li>
<li><p><code>:visited</code>：已訪問的鏈接元素；</p>
</li>
<li><p><code>:focus</code>：輸入聚焦的表單元素；</p>
</li>
<li><p><code>:required</code>：輸入必填的表單元素；</p>
</li>
<li><p><code>:valid</code>：輸入合法的表單元素；</p>
</li>
<li><p><code>:invalid</code>：輸入非法的表單元素；</p>
</li>
<li><p><code>:in-range</code>：輸入範圍以內的表單元素；</p>
</li>
<li><p><code>:out-of-range</code>：輸入範圍以外的表單元素；</p>
</li>
<li><p><code>:checked</code>：選項選中的表單元素；</p>
</li>
<li><p><code>:optional</code>：選項可選的表單元素；</p>
</li>
<li><p><code>:enabled</code>：事件啟用的表單元素；</p>
</li>
<li><p><code>:disabled</code>：事件禁用的表單元素；</p>
</li>
<li><p><code>:read-only</code>：只讀的表單元素；</p>
</li>
<li><p><code>:read-write</code>：可讀可寫的表單元素；</p>
</li>
<li><p><code>:blank</code>：輸入為空的表單元素；</p>
</li>
<li><p><code>:current()</code>：瀏覽中的元素；</p>
</li>
<li><p><code>:past()</code>：已瀏覽的元素；</p>
</li>
<li><p><code>:future()</code>：未瀏覽的元素；</p>
</li>
</ul>
<p><strong>結構偽類</strong></p>
<ul>
<li><p><code>:root</code>：文檔的根元素；</p>
</li>
<li><p><code>:empty</code>：無子元素的元素；</p>
</li>
<li><p><code>:first-letter</code>：元素的首字母；</p>
</li>
<li><p><code>:first-line</code>：元素的首行；</p>
</li>
<li><p><code>:nth-child(n)</code>：元素中指定順序索引的元素；</p>
</li>
<li><p><code>:nth-last-child(n)</code>：元素中指定逆序索引的元素；；</p>
</li>
<li><p><code>:first-child</code>：元素中為首的元素；</p>
</li>
<li><p><code>:last-child</code> ：元素中為尾的元素；</p>
</li>
<li><p><code>:only-child</code>：父元素僅有該元素的元素；</p>
</li>
<li><p><code>:nth-of-type(n)</code>：標籤中指定順序索引的標籤；</p>
</li>
<li><p><code>:nth-last-of-type(n)</code>：標籤中指定逆序索引的標籤；</p>
</li>
<li><p><code>:first-of-type</code> ：標籤中為首的標籤；</p>
</li>
<li><p><code>:last-of-type</code>：標籤中為尾標籤；</p>
</li>
<li><p><code>:only-of-type</code>：父元素僅有該標籤的標籤；</p>
</li>
</ul>
<h4 id="偽元素"><a href="#偽元素" class="headerlink" title="偽元素"></a><a href="about:blank#%E5%81%BD%E5%85%83%E7%B4%A0" title="偽元素"></a>偽元素</h4><ul>
<li><p><code>::before</code>：在元素前插入內容；</p>
</li>
<li><p><code>::after</code>：在元素後插入內容；</p>
</li>
</ul>
<h3 id="優先級"><a href="#優先級" class="headerlink" title="優先級"></a><a href="about:blank#%E5%84%AA%E5%85%88%E7%B4%9A" title="優先級"></a>優先級</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>優先級就是分配給指定的 CSS 聲明的一個權重，它由匹配的選擇器中的每一種選擇器類型的數值決定。為了記憶，可以把權重分成如下幾個等級，數值越大的權重越高：</p>
<ul>
<li><p>10000：!important；</p>
</li>
<li><p>01000：內聯樣式；</p>
</li>
<li><p>00100：ID 選擇器；</p>
</li>
<li><p>00010：類選擇器、偽類選擇器、屬性選擇器；</p>
</li>
<li><p>00001：元素選擇器、偽元素選擇器；</p>
</li>
<li><p>00000：通配選擇器、後代選擇器、兄弟選擇器；</p>
</li>
</ul>
<p>可以看到內聯樣式（通過元素中 style 屬性定義的樣式）的優先級大於任何選擇器；而給屬性值加上 <code>!important</code> 又可以把優先級提至最高，就是因為它的優先級最高，所以需要謹慎使用它，以下有些使用注意事項：</p>
<ul>
<li><p>一定要優先考慮使用樣式規則的優先級來解決問題而不是 !important；</p>
</li>
<li><p>只有在需要覆蓋全站或外部 CSS 的特定頁面中使用 !important；</p>
</li>
<li><p>永遠不要在你的插件中使用 !important；</p>
</li>
<li><p>永遠不要在全站範圍的 CSS 代碼中使用 !important；</p>
</li>
</ul>
<h3 id="繼承性"><a href="#繼承性" class="headerlink" title="繼承性"></a><a href="about:blank#%E7%B9%BC%E6%89%BF%E6%80%A7" title="繼承性"></a>繼承性</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>在 CSS 中有一個很重要的特性就是子元素會繼承父元素對應屬性計算後的值。比如頁面根元素 html 的文本顏色默認是黑色的，頁面中的所有其他元素都將繼承這個顏色，當申明瞭如下樣式後，H1 文本將變成橙色。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;orange;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">h1</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;inherit;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>設想一下，如果 CSS 中不存在繼承性，那麼我們就需要為不同文本的標籤都設置一下 color，這樣一來的後果就是 CSS 的文件大小就會無限增大。</p>
<p>CSS 屬性很多，但並不是所有的屬性默認都是能繼承父元素對應屬性的，那哪些屬性存在默認繼承的行為呢？一定是那些不會影響到頁面佈局的屬性，可以分為如下幾類：</p>
<ul>
<li><p>字體相關：<code>font-family</code>、<code>font-style</code>、<code>font-size</code>、<code>font-weight</code> 等；</p>
</li>
<li><p>文本相關：<code>text-align</code>、<code>text-indent</code>、<code>text-decoration</code>、<code>text-shadow</code>、<code>letter-spacing</code>、<code>word-spacing</code>、<code>white-space</code>、<code>line-height</code>、<code>color</code> 等；</p>
</li>
<li><p>列表相關：<code>list-style</code>、<code>list-style-image</code>、<code>list-style-type</code>、<code>list-style-position</code> 等；</p>
</li>
<li><p>其他屬性：<code>visibility</code>、<code>cursor</code> 等；</p>
</li>
</ul>
<p>對於其他默認不繼承的屬性也可以通過以下幾個屬性值來控制繼承行為：</p>
<ul>
<li><p><code>inherit</code>：繼承父元素對應屬性的計算值；</p>
</li>
<li><p><code>initial</code>：應用該屬性的默認值，比如 color 的默認值是 <code>#000</code>；</p>
</li>
<li><p><code>unset</code>：如果屬性是默認可以繼承的，則取 <code>inherit</code> 的效果，否則同 <code>initial</code>；</p>
</li>
<li><p><code>revert</code>：效果等同於 <code>unset</code>，兼容性差。</p>
</li>
</ul>
<h3 id="文檔流"><a href="#文檔流" class="headerlink" title="文檔流"></a><a href="about:blank#%E6%96%87%E6%AA%94%E6%B5%81" title="文檔流"></a>文檔流</h3><p>在 CSS 的世界中，會把內容按照從左到右、從上到下的順序進行排列顯示。正常情況下會把頁面分割成一行一行的顯示，而每行又可能由多列組成，所以從視覺上看起來就是從上到下從左到右，而這就是 CSS 中的流式佈局，又叫文檔流。文檔流就像水一樣，能夠自適應所在的容器，一般它有如下幾個特性：</p>
<ul>
<li><p>塊級元素默認會佔滿整行，所以多個塊級盒子之間是從上到下排列的；</p>
</li>
<li><p>內聯元素默認會在一行裏一列一列的排布，當一行放不下的時候，會自動切換到下一行繼續按照列排布；</p>
</li>
</ul>
<p><strong>如何脱離文檔流呢？</strong></p>
<p>脱流文檔流指節點脱流正常文檔流後，在正常文檔流中的其他節點將忽略該節點並填補其原先空間。文檔一旦脱流，計算其父節點高度時不會將其高度納入，脱流節點不佔據空間。有兩種方式可以讓元素脱離文檔流：浮動和定位。</p>
<ul>
<li><p>使用浮動（float）會將元素脱離文檔流，移動到容器左 &#x2F; 右側邊界或者是另一個浮動元素旁邊，該浮動元素之前佔用的空間將被別的元素填補，另外浮動之後所佔用的區域不會和別的元素之間發生重疊；</p>
</li>
<li><p>使用絕對定位（<code>position: absolute;</code>）或者固定定位（<code>position: fixed;</code>）也會使得元素脱離文檔流，且空出來的位置將自動被後續節點填補。</p>
</li>
</ul>
<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a><a href="about:blank#%E7%9B%92%E6%A8%A1%E5%9E%8B" title="盒模型"></a>盒模型</h3><p>在 CSS 中任何元素都可以看成是一個盒子，而一個盒子是由 4 部分組成的：內容（content）、內邊距（padding）、邊框（border）和外邊距（margin）。</p>
<p>盒模型有 2 種：標準盒模型和 IE 盒模型，本別是由 W3C 和 IExplore 制定的標準。</p>
<p>如果給某個元素設置如下樣式：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">width</span>:&nbsp;<span class="number">200px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">200px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">padding</span>:&nbsp;<span class="number">10px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">1px</span>&nbsp;solid&nbsp;<span class="number">#eee</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">margin</span>:&nbsp;<span class="number">10px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>標準盒模型認為：盒子的實際尺寸 &#x3D; 內容（設置的寬 &#x2F; 高） + 內邊距 + 邊框</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>所以 <code>.box</code> 元素內容的寬度就為 <code>200px</code>，而實際的寬度則是 <code>width</code> + <code>padding-left</code> + <code>padding-right</code> + <code>border-left-width</code> + <code>border-right-width</code> &#x3D; 200 + 10 + 10 + 1 + 1 &#x3D; 222。</p>
<p>IE 盒模型認為：盒子的實際尺寸 &#x3D; 設置的寬 &#x2F; 高 &#x3D; 內容 + 內邊距 + 邊框</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><code>.box</code> 元素所佔用的實際寬度為 <code>200px</code>，而內容的真實寬度則是 <code>width</code> - <code>padding-left</code> - <code>padding-right</code> - <code>border-left-width</code> - <code>border-right-width</code> &#x3D; 200 - 10 - 10 - 1 - 1 &#x3D; 178。</p>
<p>現在高版本的瀏覽器基本上默認都是使用標準盒模型，而像 IE6 這種老古董才是默認使用 IE 盒模型的。</p>
<p>在  CSS3 中新增了一個屬性 <code>box-sizing</code>，允許開發者來指定盒子使用什麼標準，它有 2 個值：</p>
<ul>
<li><p><code>content-box</code>：標準盒模型；</p>
</li>
<li><p><code>border-box</code>：IE 盒模型；</p>
</li>
</ul>
<h3 id="視覺格式化模型"><a href="#視覺格式化模型" class="headerlink" title="視覺格式化模型"></a><a href="about:blank#%E8%A6%96%E8%A6%BA%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A8%A1%E5%9E%8B" title="視覺格式化模型"></a>視覺格式化模型</h3><p>視覺格式化模型（<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visuren.html">Visual formatting model</a>）是用來處理和在視覺媒體上顯示文檔時使用的計算規則。CSS 中一切皆盒子，而視覺格式化模型簡單來理解就是規定這些盒子應該怎麼樣放置到頁面中去，這個模型在計算的時候會依賴到很多的因素，比如：盒子尺寸、盒子類型、定位方案（是浮動還是定位）、兄弟元素或者子元素以及一些別的因素。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>從上圖中可以看到視覺格式化模型涉及到的內容很多，有興趣深入研究的可以結合上圖看這個 W3C 的文檔 Visual formatting model。所以這裏就簡單介紹下盒子類型。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>盒子類型由 display 決定，同時給一個元素設置 display 後，將會決定這個盒子的 2 個顯示類型（display type）：</p>
<ul>
<li><p>outer display type（對外顯示）：決定了該元素本身是如何佈局的，即參與何種格式化上下文；</p>
</li>
<li><p>inner display type（對內顯示）：其實就相當於把該元素當成了容器，規定了其內部子元素是如何佈局的，參與何種格式化上下文；</p>
</li>
</ul>
<h4 id="outer-display-type"><a href="#outer-display-type" class="headerlink" title="outer display type"></a><a href="about:blank#outer-display-type" title="outer display type"></a>outer display type</h4><p>對外顯示方面，盒子類型可以分成 2 類：block-level box（塊級盒子） 和 inline-level box（行內級盒子）。</p>
<p>依據上圖可以列出都有哪些塊級和行內級盒子：</p>
<ul>
<li><p>塊級盒子：display 為 block、list-item、table、flex、grid、flow-root 等；</p>
</li>
<li><p>行內級盒子：display 為 inline、inline-block、inline-table 等；</p>
</li>
</ul>
<p>所有塊級盒子都會參與 BFC，呈現垂直排列；而所有行內級盒子都參會 IFC，呈現水平排列。</p>
<p>除此之外，block、inline 和 inline-block 還有什麼更具體的區別呢？</p>
<p><strong>block</strong></p>
<ul>
<li><p>佔滿一行，默認繼承父元素的寬度；多個塊元素將從上到下進行排列；</p>
</li>
<li><p>設置 width&#x2F;height 將會生效；</p>
</li>
<li><p>設置 padding 和 margin 將會生效；</p>
</li>
</ul>
<p><strong>inline</strong></p>
<ul>
<li><p>不會佔滿一行，寬度隨着內容而變化；多個 inline 元素將按照從左到右的順序在一行裏排列顯示，如果一行顯示不下，則自動換行；</p>
</li>
<li><p>設置 width&#x2F;height 將不會生效；</p>
</li>
<li><p>設置豎直方向上的 padding 和 margin 將不會生效；</p>
</li>
</ul>
<p><strong>inline-block</strong></p>
<ul>
<li><p>是行內塊元素，不單獨佔滿一行，可以看成是能夠在一行裏進行左右排列的塊元素；</p>
</li>
<li><p>設置 width&#x2F;height 將會生效；</p>
</li>
<li><p>設置 padding 和 margin 將會生效；</p>
</li>
</ul>
<h4 id="inner-display-type"><a href="#inner-display-type" class="headerlink" title="inner display type"></a><a href="about:blank#inner-display-type" title="inner display type"></a>inner display type</h4><p>對內方面，其實就是把元素當成了容器，裏面包裹着文本或者其他子元素。container box 的類型依據 display 的值不同，分為 4 種：</p>
<ul>
<li><p>block container：建立 BFC 或者 IFC；</p>
</li>
<li><p>flex container：建立 FFC；</p>
</li>
<li><p>grid container：建立 GFC;</p>
</li>
<li><p>ruby container：接觸不多，不做介紹。</p>
</li>
</ul>
<p>值得一提的是如果把 img 這種替換元素（replaced element）申明為 block 是不會產生 container box 的，因為替換元素比如 img 設計的初衷就僅僅是通過 src 把內容替換成圖片，完全沒考慮過會把它當成容器。</p>
<p>參考：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://yachen168.github.io/article/display.html">CSS 原理 - 你所不知道的 display</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10223896?sc=pt">格式化上下文</a></p>
</li>
</ul>
<h3 id="格式化上下文"><a href="#格式化上下文" class="headerlink" title="格式化上下文"></a><a href="about:blank#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87" title="格式化上下文"></a>格式化上下文</h3><p>格式化上下文（Formatting Context）是 CSS2.1 規範中的一個概念，大概説的是頁面中的一塊渲染區域，規定了渲染區域內部的子元素是如何排版以及相互作用的。</p>
<p>不同類型的盒子有不同格式化上下文，大概有這 4 類：</p>
<ul>
<li><p>BFC (Block Formatting Context) 塊級格式化上下文；</p>
</li>
<li><p>IFC (Inline Formatting Context) 行內格式化上下文；</p>
</li>
<li><p>FFC (Flex Formatting Context) 彈性格式化上下文；</p>
</li>
<li><p>GFC (Grid Formatting Context) 格柵格式化上下文；</p>
</li>
</ul>
<p>其中 BFC 和 IFC 在 CSS 中扮演着非常重要的角色，因為它們直接影響了網頁佈局，所以需要深入理解其原理。</p>
<h4 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a><a href="about:blank#BFC" title="BFC"></a>BFC</h4><p>塊格式化上下文，它是一個獨立的渲染區域，只有塊級盒子參與，它規定了內部的塊級盒子如何佈局，並且與這個區域外部毫不相干。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>BFC 渲染規則</strong></p>
<ul>
<li><p>內部的盒子會在垂直方向，一個接一個地放置；</p>
</li>
<li><p>盒子垂直方向的距離由 margin 決定，屬於同一個 BFC 的兩個相鄰盒子的 margin 會發生重疊；</p>
</li>
<li><p>每個元素的 margin 的左邊，與包含塊 border 的左邊相接觸 (對於從左往右的格式化，否則相反)，即使存在浮動也是如此；</p>
</li>
<li><p>BFC 的區域不會與 float 盒子重疊；</p>
</li>
<li><p>BFC 就是頁面上的一個隔離的獨立容器，容器裏面的子元素不會影響到外面的元素。反之也如此。</p>
</li>
<li><p>計算 BFC 的高度時，浮動元素也參與計算。</p>
</li>
</ul>
<p><strong>如何創建 BFC？</strong></p>
<ul>
<li><p>根元素：html</p>
</li>
<li><p>非溢出的可見元素：overflow 不為 visible</p>
</li>
<li><p>設置浮動：float 屬性不為 none</p>
</li>
<li><p>設置定位：position 為 absolute 或 fixed</p>
</li>
<li><p>定義成塊級的非塊級元素：display: inline-block&#x2F;table-cell&#x2F;table-caption&#x2F;flex&#x2F;inline-flex&#x2F;grid&#x2F;inline-grid</p>
</li>
</ul>
<p><strong>BFC 應用場景</strong></p>
<p>1、 自適應兩欄佈局</p>
<p>應用原理：BFC 的區域不會和浮動區域重疊，所以就可以把側邊欄固定寬度且左浮動，而對右側內容觸發 BFC，使得它的寬度自適應該行剩餘寬度。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&nbsp;class="layout"&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="selector-tag">div</span>&nbsp;class="<span class="selector-tag">aside</span>"&gt;<span class="selector-tag">aside</span>&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="selector-tag">div</span>&nbsp;class="<span class="selector-tag">main</span>"&gt;<span class="selector-tag">main</span>&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></tbody></table>

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.aside</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">float</span>:&nbsp;left;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">width</span>:&nbsp;<span class="number">100px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.main</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;觸發&nbsp;BFC&nbsp;--&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">overflow</span>:&nbsp;auto;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>2、清除內部浮動</p>
<p>浮動造成的問題就是父元素高度坍塌，所以清除浮動需要解決的問題就是讓父元素的高度恢復正常。而用     BFC 清除浮動的原理就是：計算 BFC 的高度時，浮動元素也參與計算。只要觸發父元素的 BFC 即可。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">overflow</span>:&nbsp;hidden;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>3、 防止垂直 margin 合併</p>
<p>BFC 渲染原理之一：同一個 BFC 下的垂直 margin 會發生合併。所以如果讓 2 個元素不在同一個 BFC 中即可阻止垂直 margin 合併。那如何讓 2 個相鄰的兄弟元素不在同一個 BFC 中呢？可以給其中一個元素外面包裹一層，然後觸發其包裹層的 BFC，這樣一來 2 個元素就不會在同一個 BFC 中了。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&nbsp;class="layout"&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="selector-tag">div</span>&nbsp;class="<span class="selector-tag">a</span>"&gt;<span class="selector-tag">a</span>&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="selector-tag">div</span>&nbsp;class="contain-<span class="selector-tag">b</span>"&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<span class="selector-tag">div</span>&nbsp;class="<span class="selector-tag">b</span>"&gt;<span class="selector-tag">b</span>&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></tbody></table>

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.demo3</span>&nbsp;<span class="selector-class">.a</span>,</span><br><span class="line"><span class="selector-class">.demo3</span>&nbsp;<span class="selector-class">.b</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">1px</span>&nbsp;solid&nbsp;<span class="number">#999</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">margin</span>:&nbsp;<span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.contain-b</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">overflow</span>:&nbsp;hidden;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>針對以上 3 個 示例 ，可以結合這個 BFC 應用示例 配合觀看更佳。</p>
<p>參考：<a target="_blank" rel="noopener" href="https://yachen168.github.io/article/Formatting-context.html">CSS 原理 - Formatting Context</a></p>
<h4 id="IFC"><a href="#IFC" class="headerlink" title="IFC"></a><a href="about:blank#IFC" title="IFC"></a>IFC</h4><p>IFC 的形成條件非常簡單，塊級元素中僅包含內聯級別元素，需要注意的是當 IFC 中有塊級元素插入時，會產生兩個匿名塊將父元素分割開來，產生兩個 IFC。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>IFC 渲染規則</strong></p>
<ul>
<li><p>子元素在水平方向上一個接一個排列，在垂直方向上將以容器頂部開始向下排列；</p>
</li>
<li><p>節點無法聲明寬高，其中 margin 和 padding 在水平方向有效在垂直方向無效；</p>
</li>
<li><p>節點在垂直方向上以不同形式對齊；</p>
</li>
<li><p>能把在一行上的框都完全包含進去的一個矩形區域，被稱為該行的線盒（line box）。線盒的寬度是由包含塊（containing box）和與其中的浮動來決定；</p>
</li>
<li><p>IFC 中的 line box 一般左右邊貼緊其包含塊，但 float 元素會優先排列。</p>
</li>
<li><p>IFC 中的 line box 高度由 line-height 計算規則來確定，同個 IFC 下的多個 line box 高度可能會不同；</p>
</li>
<li><p>當內聯級盒子的總寬度少於包含它們的 line box 時，其水平渲染規則由 text-align 屬性值來決定；</p>
</li>
<li><p>當一個內聯盒子超過父元素的寬度時，它會被分割成多盒子，這些盒子分佈在多個 line box 中。如果子元素未設置強制換行的情況下，inline box 將不可被分割，將會溢出父元素。</p>
</li>
</ul>
<p>針對如上的 IFC 渲染規則，你是不是可以分析下下面這段代碼的 IFC 環境是怎麼樣的呢？</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">p</span>&gt;It&nbsp;can&nbsp;get&nbsp;&lt;<span class="selector-tag">strong</span>&gt;very&nbsp;complicated&lt;/storng&gt;&nbsp;once&nbsp;you&nbsp;start&nbsp;looking&nbsp;into&nbsp;it.&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></tbody></table>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>對應上面這樣一串 HTML 分析如下：</p>
<ul>
<li><p>p 標籤是一個 block container，對內將產生一個 IFC；</p>
</li>
<li><p>由於一行沒辦法顯示完全，所以產生了 2 個線盒（line box）；線盒的寬度就繼承了 p 的寬度；高度是由裏面的內聯盒子的 line-height 決定；</p>
</li>
<li><p>It can get：匿名的內聯盒子；</p>
</li>
<li><p>very complicated：strong 標籤產生的內聯盒子；</p>
</li>
<li><p>once you start：匿名的內聯盒子；</p>
</li>
<li><p>looking into it.：匿名的內聯盒子。</p>
</li>
</ul>
<p>參考：<a target="_blank" rel="noopener" href="https://www.w3.org/TR/CSS2/visuren.html#inline-formatting">Inline formatting contexts</a></p>
<p><strong>IFC 應用場景</strong></p>
<ul>
<li><p>水平居中：當一個塊要在環境中水平居中時，設置其為 inline-block 則會在外層產生 IFC，通過 text-align 則可以使其水平居中。</p>
</li>
<li><p>垂直居中：創建一個 IFC，用其中一個元素撐開父元素的高度，然後設置其 vertical-align: middle，其他行內元素則可以在此父元素下垂直居中。</p>
</li>
</ul>
<p>偷個懶，demo 和圖我就不做了。</p>
<h3 id="層疊上下文"><a href="#層疊上下文" class="headerlink" title="層疊上下文"></a><a href="about:blank#%E5%B1%A4%E7%96%8A%E4%B8%8A%E4%B8%8B%E6%96%87" title="層疊上下文"></a>層疊上下文</h3><p>在電腦顯示屏幕上的顯示的頁面其實是一個三維的空間，水平方向是 X 軸，豎直方向是 Y 軸，而屏幕到眼睛的方向可以看成是 Z 軸。眾 HTML 元素依據自己定義的屬性的優先級在 Z 軸上按照一定的順序排開，而這其實就是層疊上下文所要描述的東西。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>我們對層疊上下文的第一印象可能要來源於 z-index，認為它的值越大，距離屏幕觀察者就越近，那麼層疊等級就越高，事實確實是這樣的，但層疊上下文的內容遠非僅僅如此：</p>
<ul>
<li><p>z-index 能夠在層疊上下文中對元素的堆疊順序其作用是必須配合定位才可以；</p>
</li>
<li><p>除了 z-index 之外，一個元素在 Z 軸上的顯示順序還受層疊等級和層疊順序影響；</p>
</li>
</ul>
<p>在看層疊等級和層疊順序之前，我們先來看下如何產生一個層疊上下文，特定的 HTML 元素或者 CSS 屬性產生層疊上下文，MDN 中給出了這麼一個列表，符合以下任一條件的元素都會產生層疊上下文：</p>
<ul>
<li><p>html 文檔根元素</p>
</li>
<li><p>聲明 position: absolute&#x2F;relative 且 z-index 值不為 auto 的元素；</p>
</li>
<li><p>聲明 position: fixed&#x2F;sticky 的元素；</p>
</li>
<li><p>flex 容器的子元素，且 z-index 值不為 auto；</p>
</li>
<li><p>grid 容器的子元素，且 z-index 值不為 auto；</p>
</li>
<li><p>opacity 屬性值小於 1 的元素；</p>
</li>
<li><p>mix-blend-mode 屬性值不為 normal 的元素；</p>
</li>
<li><p>以下任意屬性值不為 none 的元素：</p>
<ul>
<li><p>transform</p>
</li>
<li><p>filter</p>
</li>
<li><p>perspective</p>
</li>
<li><p>clip-path</p>
</li>
<li><p>mask &#x2F; mask-image &#x2F; mask-border</p>
</li>
</ul>
</li>
<li><p>isolation 屬性值為 isolate 的元素；</p>
</li>
<li><p>-webkit-overflow-scrolling 屬性值為 touch 的元素；</p>
</li>
<li><p>will-change 值設定了任一屬性而該屬性在 non-initial 值時會創建層疊上下文的元素；</p>
</li>
<li><p>contain 屬性值為 layout、paint 或包含它們其中之一的合成值（比如 contain: strict、contain: content）的元素。</p>
</li>
</ul>
<p><strong>層疊等級</strong></p>
<p>層疊等級指節點在三維空間 Z 軸上的上下順序。它分兩種情況：</p>
<ul>
<li><p>在同一個層疊上下文中，它描述定義的是該層疊上下文中的層疊上下文元素在 Z 軸上的上下順序；</p>
</li>
<li><p>在其他普通元素中，它描述定義的是這些普通元素在 Z 軸上的上下順序；</p>
</li>
</ul>
<p>普通節點的層疊等級優先由其所在的層疊上下文決定，層疊等級的比較只有在當前層疊上下文中才有意義，脱離當前層疊上下文的比較就變得無意義了。</p>
<p><strong>層疊順序</strong></p>
<p>在同一個層疊上下文中如果有多個元素，那麼他們之間的層疊順序是怎麼樣的呢？</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>以下這個列表越往下層疊優先級越高，視覺上的效果就是越容易被用户看到（不會被其他元素覆蓋）：</p>
<ul>
<li><p>層疊上下文的 border 和 background</p>
</li>
<li><p>z-index &lt; 0 的子節點</p>
</li>
<li><p>標準流內塊級非定位的子節點</p>
</li>
<li><p>浮動非定位的子節點</p>
</li>
<li><p>標準流內行內非定位的子節點</p>
</li>
<li><p>z-index: auto&#x2F;0 的子節點</p>
</li>
<li><p>z-index &gt; 0 的子節點</p>
</li>
</ul>
<p><strong>如何比較兩個元素的層疊等級？</strong></p>
<ul>
<li><p>在同一個層疊上下文中，比較兩個元素就是按照上圖的介紹的層疊順序進行比較。</p>
</li>
<li><p>如果不在同一個層疊上下文中的時候，那就需要比較兩個元素分別所處的層疊上下文的等級。</p>
</li>
<li><p>如果兩個元素都在同一個層疊上下文，且層疊順序相同，則在 HTML 中定義越後面的層疊等級越高。</p>
</li>
</ul>
<p>參考：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903667175260174">徹底搞懂 CSS 層疊上下文、層疊等級、層疊順序、z-index</a></p>
<h3 id="值和單位"><a href="#值和單位" class="headerlink" title="值和單位"></a><a href="about:blank#%E5%80%BC%E5%92%8C%E5%96%AE%E4%BD%8D" title="值和單位"></a>值和單位</h3><p>CSS 的聲明是由屬性和值組成的，而值的類型有許多種：</p>
<ul>
<li><p>數值：長度值 ，用於指定例如元素 width、border-width、font-size 等屬性的值；</p>
</li>
<li><p>百分比：可以用於指定尺寸或長度，例如取決於父容器的 width、height 或默認的 font-size；</p>
</li>
<li><p>顏色：用於指定 background-color、color 等；</p>
</li>
<li><p>座標位置：以屏幕的左上角為座標原點定位元素的位置，比如常見的 background-position、top、right、bottom 和 left 等屬性；</p>
</li>
<li><p>函數：用於指定資源路徑或背景圖片的漸變，比如 url()、linear-gradient() 等；</p>
</li>
</ul>
<p>而還有些值是需要帶單位的，比如 width: 100px，這裏的 px 就是表示長度的單位，長度單位除了 px 外，比較常用的還有 em、rem、vw&#x2F;vh 等。那他們有什麼區別呢？又應該在什麼時候使用它們呢？</p>
<h4 id="px"><a href="#px" class="headerlink" title="px"></a><a href="about:blank#px" title="px"></a>px</h4><p>屏幕分辨率是指在屏幕的橫縱方向上的像素點數量，比如分辨率 1920×1080 意味着水平方向含有 1920 個像素數，垂直方向含有 1080 個像素數。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>而 px 表示的是 CSS 中的像素，在 CSS 中它是絕對的長度單位，也是最基礎的單位，其他長度單位會自動被瀏覽器換算成 px。但是對於設備而言，它其實又是相對的長度單位，比如寬高都為 2px，在正常的屏幕下，其實就是 4 個像素點，而在設備像素比 (devicePixelRatio) 為 2 的 Retina 屏幕下，它就有 16 個像素點。所以屏幕尺寸一致的情況下，屏幕分辨率越高，顯示效果就越細膩。</p>
<p>講到這裏，還有一些相關的概念需要理清下：</p>
<p><strong>設備像素（Device pixels）</strong></p>
<p>設備屏幕的物理像素，表示的是屏幕的橫縱有多少像素點；和屏幕分辨率是差不多的意思。</p>
<p><strong>設備像素比（DPR）</strong></p>
<p>設備像素比表示 1 個 CSS 像素等於幾個物理像素。</p>
<p>計算公式：DPR &#x3D; 物理像素數 &#x2F; 邏輯像素數；</p>
<p>在瀏覽器中可以通過 window.devicePixelRatio 來獲取當前屏幕的 DPR。</p>
<p><strong>像素密度（DPI&#x2F;PPI）</strong></p>
<p>像素密度也叫顯示密度或者屏幕密度，縮寫為 DPI(Dots Per Inch) 或者 PPI(Pixel Per Inch)。從技術角度説，PPI 只存在於計算機顯示領域，而 DPI 只出現於打印或印刷領域。</p>
<p>計算公式：像素密度 &#x3D; 屏幕對角線的像素尺寸 &#x2F; 物理尺寸</p>
<p>比如，對於分辨率為 750 * 1334 的 iPhone 6 來説，它的像素密度為：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Math<span class="selector-class">.sqrt</span>(<span class="number">750</span>&nbsp;*&nbsp;<span class="number">750</span>&nbsp;+&nbsp;<span class="number">1334</span>&nbsp;*&nbsp;<span class="number">1334</span>)&nbsp;/&nbsp;<span class="number">4.7</span>&nbsp;=&nbsp;<span class="number">326</span>ppi</span><br></pre></td></tr></tbody></table>

<p><strong>設備獨立像素（DIP）</strong></p>
<p>DIP 是特別針對 Android 設備而衍生出來的，原因是安卓屏幕的尺寸繁多，因此為了顯示能儘量和設備無關，而提出的這個概念。它是基於屏幕密度而計算的，認為當屏幕密度是 160 的時候，px &#x3D; DIP。</p>
<p>計算公式：dip &#x3D; px * 160 &#x2F; dpi</p>
<h4 id="em"><a href="#em" class="headerlink" title="em"></a><a href="about:blank#em" title="em"></a>em</h4><p>em 是 CSS 中的相對長度單位中的一個。居然是相對的，那它到底是相對的誰呢？它有 2 層意思：</p>
<ul>
<li><p>在 font-size 中使用是相對於<strong>父元素</strong>的 font-size 大小，比如父元素 font-size: 16px，當給子元素指定 font-size: 2em 的時候，經過計算後它的字體大小會是 32px；</p>
</li>
<li><p>在其他屬性中使用是相對於自身的字體大小，如 width&#x2F;height&#x2F;padding&#x2F;margin 等；</p>
</li>
</ul>
<p>我們都知道每個瀏覽器都會給 HTML 根元素 html 設置一個默認的 font-size，而這個值通常是 16px。這也就是為什麼 1em &#x3D; 16px 的原因所在了。</p>
<p>em 在計算的時候是會層層計算的，比如：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table>

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&nbsp;{&nbsp;<span class="attribute">font-size</span>:&nbsp;<span class="number">2em</span>;&nbsp;}</span><br><span class="line"><span class="selector-tag">p</span>&nbsp;{&nbsp;<span class="attribute">font-size</span>:&nbsp;<span class="number">2em</span>;&nbsp;}</span><br></pre></td></tr></tbody></table>

<p>對於如上一個結構的 HTML，由於根元素 html 的字體大小是 16px，所以 p 標籤最終計算出來後的字體大小會是 16 * 2 * 2 &#x3D; 64px</p>
<h4 id="rem"><a href="#rem" class="headerlink" title="rem"></a><a href="about:blank#rem" title="rem"></a>rem</h4><p>rem(root em) 和 em 一樣，也是一個相對長度單位，不過 rem 相對的是 HTML 的根元素 html。</p>
<p>rem 由於是基於 html 的 font-size 來計算，所以通常用於自適應網站或者 H5 中。</p>
<p>比如在做 H5 的時候，前端通常會讓 UI 給 750px 寬的設計圖，而在開發的時候可以基於 iPhone X 的尺寸 375px * 812px 來寫頁面，這樣一來的話，就可以用下面的 JS 依據當前頁面的視口寬度自動計算出根元素 html 的基準 font-size 是多少。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>&nbsp;(<span class="params">doc,&nbsp;win</span>)&nbsp;</span>{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span>&nbsp;docEl&nbsp;=&nbsp;doc.documentElement,</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeEvt&nbsp;=&nbsp;<span class="string">'orientationchange'</span>&nbsp;<span class="keyword">in</span>&nbsp;<span class="built_in">window</span>&nbsp;?&nbsp;<span class="string">'orientationchange'</span>&nbsp;:&nbsp;<span class="string">'resize'</span>,</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;psdWidth&nbsp;=&nbsp;<span class="number">750</span>,&nbsp;&nbsp;<span class="comment">//&nbsp;設計圖寬度</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recalc&nbsp;=&nbsp;<span class="function"><span class="keyword">function</span>&nbsp;(<span class="params"></span>)&nbsp;</span>{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span>&nbsp;clientWidth&nbsp;=&nbsp;docEl.clientWidth;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;(&nbsp;!clientWidth&nbsp;)&nbsp;<span class="keyword">return</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;(&nbsp;clientWidth&nbsp;&gt;=&nbsp;<span class="number">640</span>&nbsp;)&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;docEl.style.fontSize&nbsp;=&nbsp;<span class="number">200</span>&nbsp;*&nbsp;(&nbsp;<span class="number">640</span>&nbsp;/&nbsp;psdWidth&nbsp;)&nbsp;+&nbsp;<span class="string">'px'</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword">else</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;docEl.style.fontSize&nbsp;=&nbsp;<span class="number">200</span>&nbsp;*&nbsp;(&nbsp;clientWidth&nbsp;/&nbsp;psdWidth&nbsp;)&nbsp;+&nbsp;<span class="string">'px'</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</span><br><span class="line"></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;(&nbsp;!doc.addEventListener&nbsp;)&nbsp;<span class="keyword">return</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;綁定事件的時候最好配合防抖函數</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;win.addEventListener(&nbsp;resizeEvt,&nbsp;debounce(recalc,&nbsp;<span class="number">1000</span>),&nbsp;<span class="literal">false</span>&nbsp;);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;doc.addEventListener(&nbsp;<span class="string">'DOMContentLoaded'</span>,&nbsp;recalc,&nbsp;<span class="literal">false</span>&nbsp;);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="function"><span class="keyword">function</span>&nbsp;<span class="title">debounce</span>(<span class="params">func,&nbsp;wait</span>)&nbsp;</span>{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span>&nbsp;timeout;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span>&nbsp;<span class="function"><span class="keyword">function</span>&nbsp;(<span class="params"></span>)&nbsp;</span>{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span>&nbsp;context&nbsp;=&nbsp;<span class="built_in">this</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">var</span>&nbsp;args&nbsp;=&nbsp;<span class="built_in">arguments</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout&nbsp;=&nbsp;<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func.apply(context,&nbsp;args)</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;wait);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;}</span><br><span class="line">})(<span class="built_in">document</span>,&nbsp;<span class="built_in">window</span>);</span><br></pre></td></tr></tbody></table>

<p>比如當視口是 375px 的時候，經過計算 html 的 font-size 會是 100px，這樣有什麼好處呢？好處就是方便寫樣式，比如從設計圖量出來的 header 高度是 50px 的，那我們寫樣式的時候就可以直接寫：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">0.5rem</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>每個從設計圖量出來的尺寸只要除於 100 即可得到當前元素的 rem 值，都不用經過計算，非常方便。偷偷告訴你，如果你把上面那串計算 html 標籤 font-size 的 JS 代碼中的 200 替換成 2，那在計算 rem 的時候就不需要除於 100 了，從設計圖量出多大 px，就直接寫多少個 rem。</p>
<h4 id="vw-x2F-vh"><a href="#vw-x2F-vh" class="headerlink" title="vw&#x2F;vh"></a><a href="about:blank#vw-x2F-vh" title="vw/vh"></a>vw&#x2F;vh</h4><p>vw 和 vh 分別是相對於屏幕視口寬度和高度而言的長度單位：</p>
<ul>
<li><p>1vw &#x3D; 視口寬度均分成 100 份中 1 份的長度；</p>
</li>
<li><p>1vh &#x3D; 視口高度均分成 100 份中 1 份的長度；</p>
</li>
</ul>
<p>在 JS 中 100vw &#x3D; window.innerWidth，100vh &#x3D; window.innerHeight。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>vw&#x2F;vh 的出現使得多了一種寫自適應佈局的方案，開發者不再侷限於 rem 了。</p>
<p>相對視口的單位，除了 vw&#x2F;vh 外，還有 vmin 和 vmax：</p>
<ul>
<li><p>vmin：取 vw 和 vh 中值較小的；</p>
</li>
<li><p>vmax：取 vw 和 vh 中值較大的；</p>
</li>
</ul>
<h3 id="顏色體系"><a href="#顏色體系" class="headerlink" title="顏色體系"></a><a href="about:blank#%E9%A1%8F%E8%89%B2%E9%AB%94%E7%B3%BB" title="顏色體系"></a>顏色體系</h3><p>CSS 中用於表示顏色的值種類繁多，足夠構成一個體系，所以這裏就專門拿出一個小節來講解它。</p>
<p>根據 <a target="_blank" rel="noopener" href="https://drafts.csswg.org/css-color-3/">CSS 顏色草案</a> 中提到的顏色值類型，大概可以把它們分為這幾類：</p>
<ul>
<li><p>顏色關鍵字</p>
</li>
<li><p>transparent 關鍵字</p>
</li>
<li><p>currentColor 關鍵字</p>
</li>
<li><p>RGB 顏色</p>
</li>
<li><p>HSL 顏色</p>
</li>
</ul>
<h4 id="顏色關鍵字"><a href="#顏色關鍵字" class="headerlink" title="顏色關鍵字"></a><a href="about:blank#%E9%A1%8F%E8%89%B2%E9%97%9C%E9%8D%B5%E5%AD%97" title="顏色關鍵字"></a>顏色關鍵字</h4><p>顏色關鍵字（color keywords）是不區分大小寫的標識符，它表示一個具體的顏色，比如 white（白），黑（black）等；</p>
<p>可接受的關鍵字列表在 CSS 的演變過程中發生了改變：</p>
<ul>
<li><p>CSS 標準 1 只接受 16 個基本顏色，稱為 VGA 顏色，因為它們來源於 VGA 顯卡所顯示的顏色集合而被稱為 VGA colors （視頻圖形陣列色彩）。</p>
</li>
<li><p>CSS 標準 2 增加了 orange 關鍵字。</p>
</li>
<li><p>從一開始，瀏覽器接受其它的顏色，由於一些早期瀏覽器是 X11 應用程序，這些顏色大多數是 X11 命名的顏色列表，雖然有一點不同。SVG 1.0 是首個正式定義這些關鍵字的標準；CSS 色彩標準 3 也正式定義了這些關鍵字。它們經常被稱作擴展的顏色關鍵字， X11 顏色或 SVG 顏色 。</p>
</li>
<li><p>CSS 顏色標準 4 添加可 rebeccapurple 關鍵字來紀念 web 先鋒 Eric Meyer。</p>
</li>
</ul>
<p>如下這張圖是 16 個基礎色，又叫 VGA 顏色。截止到目前為止 CSS 顏色關鍵字總共有 146 個，這裏可以查看 <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/gOLovwL">完整的色彩關鍵字列表</a>。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>需要注意的是如果聲明的時候的顏色關鍵字是錯誤的，瀏覽器會忽略它。</p>
<h4 id="transparent-關鍵字"><a href="#transparent-關鍵字" class="headerlink" title="transparent 關鍵字"></a><a href="about:blank#transparent-%E9%97%9C%E9%8D%B5%E5%AD%97" title="transparent 關鍵字"></a>transparent 關鍵字</h4><p>transparent 關鍵字表示一個完全透明的顏色，即該顏色看上去將是背景色。從技術上説，它是帶有 alpha 通道為最小值的黑色，是 rgba(0,0,0,0) 的簡寫。</p>
<p>透明關鍵字有什麼應用場景呢？</p>
<p><strong>實現三角形</strong></p>
<p>下面這個圖是用 4 條邊框填充的正方形，看懂了它你大概就知道該如何用 CSS 寫三角形了。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-top-color</span>:&nbsp;<span class="number">#ffc107</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-right-color</span>:&nbsp;<span class="number">#00bcd4</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-bottom-color</span>:&nbsp;<span class="number">#e26b6b</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-left-color</span>:&nbsp;<span class="number">#cc7cda</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-width</span>:&nbsp;<span class="number">50px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-style</span>:&nbsp;solid;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>用 transparent 實現三角形的原理：</p>
<ul>
<li><p>首先寬高必須是 0px，通過邊框的粗細來填充內容；</p>
</li>
<li><p>那條邊需要就要加上顏色，而不需要的邊則用 transparent；</p>
</li>
<li><p>想要什麼樣姿勢的三角形，完全由上下左右 4 條邊的中有顏色的邊和透明的邊的位置決定；</p>
</li>
<li><p>等腰三角形：設置一條邊有顏色，然後緊挨着的 2 邊是透明，且寬度是有顏色邊的一半；直角三角形：設置一條邊有顏色，然後緊挨着的任何一邊透明即可。</p>
</li>
</ul>
<p>看下示例：</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>增大點擊區域</strong></p>
<p>常常在移動端的時候點擊的按鈕的區域特別小，但是由於現實效果又不太好把它做大，所以常用的一個手段就是通過透明的邊框來增大按鈕的點擊區域：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">5px</span>&nbsp;solid&nbsp;transparent;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<h4 id="currentColor-關鍵字"><a href="#currentColor-關鍵字" class="headerlink" title="currentColor 關鍵字"></a><a href="about:blank#currentColor-%E9%97%9C%E9%8D%B5%E5%AD%97" title="currentColor 關鍵字"></a>currentColor 關鍵字</h4><p>currentColor 會取當前元素繼承父級元素的文本顏色值或聲明的文本顏色值，即 computed 後的 color 值。</p>
<p>比如，對於如下 CSS，該元素的邊框顏色會是 red：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.btn</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;red;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">1px</span>&nbsp;solid&nbsp;currentColor;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<h4 id="RGB-A-顏色"><a href="#RGB-A-顏色" class="headerlink" title="RGB[A] 顏色"></a><a href="about:blank#RGB-A-%E9%A1%8F%E8%89%B2" title="RGB[A] 顏色"></a>RGB[A] 顏色</h4><p>RGB[A] 顏色是由 R(red)-G(green)-B(blue)-A(alpha) 組成的色彩空間。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>在 CSS 中，它有兩種表示形式：</p>
<ul>
<li><p>十六進制符號；</p>
</li>
<li><p>函數符；</p>
</li>
</ul>
<p><strong>十六進制符號</strong></p>
<p>RGB 中的每種顏色的值範圍是 00~ff，值越大表示顏色越深。所以一個顏色正常是 6 個十六進制字符加上 # 組成，比如紅色就是 #ff0000。</p>
<p>如果 RGB 顏色需要加上不透明度，那就需要加上 alpha 通道的值，它的範圍也是 00~ff，比如一個帶不透明度為 67% 的紅色可以這樣寫 #ff0000aa。</p>
<p>使用十六進制符號表示顏色的時候，都是用 2 個十六進制表示一個顏色，如果這 2 個字符相同，還可以縮減成只寫 1 個，比如，紅色 #f00；帶 67% 不透明度的紅色 #f00a。</p>
<p><strong>函數符</strong></p>
<p>當 RGB 用函數表示的時候，每個值的範圍是 0<del>255 或者 0%</del>100%，所以紅色是 rgb(255, 0, 0)， 或者 rgb(100%, 0, 0)。</p>
<p>如果需要使用函數來表示帶不透明度的顏色值，值的範圍是 0<del>1 及其之間的小數或者 0%</del>100%，比如帶 67% 不透明度的紅色是 rgba(255, 0, 0, 0.67) 或者 rgba(100%, 0%, 0%, 67%)</p>
<blockquote>
<p>需要注意的是 RGB 這 3 個顏色值需要保持一致的寫法，要嘛用數字要嘛用百分比，而不透明度的值的可以不用和 RGB 保持一致寫法。比如 rgb(100%, 0, 0) 這個寫法是無效的；而 rgb(100%, 0%, 0%, 0.67) 是有效的。</p>
</blockquote>
<p>在第 4 代 CSS 顏色標準中，新增了一種新的函數寫法，即可以把 RGB 中值的分隔逗號改成空格，而把 RGB 和 alpha 中的逗號改成 &#x2F;，比如帶 67% 不透明度的紅色可以這樣寫 rgba(255 0 0 &#x2F; 0.67)。另外還把 rgba 的寫法合併到 rgb 函數中了，即 rgb 可以直接寫帶不透明度的顏色。</p>
<h4 id="HSL-A-顏色"><a href="#HSL-A-顏色" class="headerlink" title="HSL[A] 顏色"></a><a href="about:blank#HSL-A-%E9%A1%8F%E8%89%B2" title="HSL[A] 顏色"></a>HSL[A] 顏色</h4><p>HSL[A] 顏色是由色相 (hue)- 飽和度 (saturation)- 亮度 (lightness)- 不透明度組成的顏色體系。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<ul>
<li><p>色相（H）是色彩的基本屬性，值範圍是 0<del>360 或者 0deg</del>360deg， 0 (或 360) 為紅色, 120 為綠色, 240 為藍色；</p>
</li>
<li><p>飽和度（S）是指色彩的純度，越高色彩越純，低則逐漸變灰，取 0~100% 的數值；0% 為灰色， 100% 全色；</p>
</li>
<li><p>亮度（L），取 0~100%，0% 為暗，100% 為白；</p>
</li>
<li><p>不透明度（A），取 0<del>100%，或者 0</del>1 及之間的小數；</p>
</li>
</ul>
<p>寫法上可以參考 RGB 的寫法，只是參數的值不一樣。</p>
<p>給一個按鈕設置不透明度為 67% 的紅色的 color 的寫法，以下全部寫法效果一致：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="number">#ff0000</span>aa;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="number">#f00</span>a;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">rgba</span>(<span class="number">255</span>,&nbsp;<span class="number">0</span>,&nbsp;<span class="number">0</span>,&nbsp;<span class="number">0.67</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">rgb</span>(<span class="number">100%</span>&nbsp;<span class="number">0%</span>&nbsp;<span class="number">0%</span>&nbsp;/&nbsp;<span class="number">67%</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">hsla</span>(<span class="number">0</span>,&nbsp;<span class="number">100%</span>,&nbsp;<span class="number">50%</span>,&nbsp;<span class="number">67%</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">hsl</span>(<span class="number">0deg</span>&nbsp;<span class="number">100%</span>&nbsp;<span class="number">50%</span>&nbsp;/&nbsp;<span class="number">67%</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>小提示：在 Chrome DevTools 中可以按住 shift + 鼠標左鍵可以切換顏色的表示方式。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h3 id="媒體查詢"><a href="#媒體查詢" class="headerlink" title="媒體查詢"></a><a href="about:blank#%E5%AA%92%E9%AB%94%E6%9F%A5%E8%A9%A2" title="媒體查詢"></a>媒體查詢</h3><p>媒體查詢是指針對不同的設備、特定的設備特徵或者參數進行定製化的修改網站的樣式。</p>
<p>你可以通過給 <code>&lt;link&gt;</code> 加上 media 屬性來指定該樣式文件只能對什麼設備生效，不指定的話默認是 all，即對所有設備都生效：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span>&nbsp;<span class="attr">rel</span>=<span class="string">"stylesheet"</span>&nbsp;<span class="attr">src</span>=<span class="string">"styles.css"</span>&nbsp;<span class="attr">media</span>=<span class="string">"screen"</span>&nbsp;/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span>&nbsp;<span class="attr">rel</span>=<span class="string">"stylesheet"</span>&nbsp;<span class="attr">src</span>=<span class="string">"styles.css"</span>&nbsp;<span class="attr">media</span>=<span class="string">"print"</span>&nbsp;/&gt;</span></span><br></pre></td></tr></tbody></table>

<p>都支持哪些設備類型？</p>
<ul>
<li><p>all：適用於所有設備；</p>
</li>
<li><p>print：適用於在打印預覽模式下在屏幕上查看的分頁材料和文檔；</p>
</li>
<li><p>screen：主要用於屏幕；</p>
</li>
<li><p>speech：主要用於語音合成器。</p>
</li>
</ul>
<blockquote>
<p>需要注意的是：通過 media 指定的  資源儘管不匹配它的設備類型，但是瀏覽器依然會加載它。</p>
</blockquote>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>除了通過 <code>&lt;link&gt;</code> 讓指定設備生效外，還可以通過 <code>@media</code> 讓 CSS 規則在特定的條件下才能生效。響應式頁面就是使用了 @media 才讓一個頁面能夠同時適配 PC、Pad 和手機端。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span>&nbsp;(<span class="attribute">min-width</span>:&nbsp;<span class="number">1000px</span>)&nbsp;{}</span><br></pre></td></tr></tbody></table>

<p>媒體查詢支持邏輯操作符：</p>
<ul>
<li><p>and：查詢條件都滿足的時候才生效；</p>
</li>
<li><p>not：查詢條件取反；</p>
</li>
<li><p>only：整個查詢匹配的時候才生效，常用語兼容舊瀏覽器，使用時候必須指定媒體類型；</p>
</li>
<li><p>逗號或者 or：查詢條件滿足一項即可匹配；</p>
</li>
</ul>
<p>媒體查詢還支持<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Media_queries#%E5%AA%92%E4%BD%93%E7%89%B9%E6%80%A7">眾多的媒體特性</a>，使得它可以寫出很複雜的查詢條件：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*&nbsp;用户設備的最小高度為680px或為縱向模式的屏幕設備&nbsp;*/</span></span><br><span class="line"><span class="keyword">@media</span>&nbsp;(<span class="attribute">min-height</span>:&nbsp;<span class="number">680px</span>),&nbsp;screen&nbsp;<span class="keyword">and</span>&nbsp;(<span class="attribute">orientation</span>:&nbsp;portrait)&nbsp;{}</span><br></pre></td></tr></tbody></table>

<h2 id="常見需求"><a href="#常見需求" class="headerlink" title="常見需求"></a><a href="about:blank#%E5%B8%B8%E8%A6%8B%E9%9C%80%E6%B1%82" title="常見需求"></a>常見需求</h2><h3 id="自定義屬性"><a href="#自定義屬性" class="headerlink" title="自定義屬性"></a><a href="about:blank#%E8%87%AA%E5%AE%9A%E7%BE%A9%E5%B1%AC%E6%80%A7" title="自定義屬性"></a>自定義屬性</h3><p>之前我們通常是在預處理器裏才可以使用變量，而現在 CSS 裏也支持了變量的用法。通過自定義屬性就可以在想要使用的地方引用它。</p>
<p>自定義屬性也和普通屬性一樣具有級聯性，申明在 :root 下的時候，在全文檔範圍內可用，而如果是在某個元素下申明自定義屬性，則只能在它及它的子元素下才可以使用。</p>
<p>自定義屬性必須通過 <code>--x</code> 的格式申明，比如：–theme-color: red; 使用自定義屬性的時候，需要用 var 函數。比如：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--&nbsp;定義自定義屬性&nbsp;--&gt;</span><br><span class="line"><span class="selector-pseudo">:root</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;--theme-<span class="attribute">color</span>:&nbsp;red;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">&lt;!--&nbsp;使用變量&nbsp;--&gt;</span><br><span class="line"><span class="selector-tag">h1</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">color</span>:&nbsp;<span class="built_in">var</span>(--theme-color);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>上圖這個是使用 CSS 自定義屬性配合 JS 實現的動態調整元素的 box-shadow，具體可以看這個 <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/GVjxLJ">codepen demo</a>。</p>
<h3 id="1px-邊框解決方案"><a href="#1px-邊框解決方案" class="headerlink" title="1px 邊框解決方案"></a><a href="about:blank#1px-%E9%82%8A%E6%A1%86%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88" title="1px 邊框解決方案"></a>1px 邊框解決方案</h3><p>Retina 顯示屏比普通的屏幕有着更高的分辨率，所以在移動端的 1px 邊框就會看起來比較粗，為了美觀通常需要把這個線條細化處理。這裏有篇文章列舉了 7 中方案可以參考一下：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7e63f5a32636">7 種方法解決移動端 Retina 屏幕 1px 邊框問題</a></p>
<p>而這裏附上最後一種通過偽類和 transform 實現的相對完美的解決方案：</p>
<p>只設置單條底部邊框：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.scale-1px-bottom</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">position</span>:&nbsp;relative;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.scale-1px-bottom</span><span class="selector-pseudo">::after</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">content</span>:&nbsp;<span class="string">''</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">position</span>:&nbsp;absolute;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">left</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">bottom</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">background</span>:&nbsp;<span class="number">#000</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">width</span>:&nbsp;<span class="number">100%</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">1px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;-webkit-<span class="attribute">transform</span>:&nbsp;<span class="built_in">scaleY</span>(<span class="number">0.5</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">transform</span>:&nbsp;<span class="built_in">scaleY</span>(<span class="number">0.5</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;-webkit-<span class="attribute">transform-origin</span>:&nbsp;<span class="number">0</span>&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">transform-origin</span>:&nbsp;<span class="number">0</span>&nbsp;<span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>同時設置 4 條邊框：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.scale-1px</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">position</span>:&nbsp;relative;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">margin-bottom</span>:&nbsp;<span class="number">20px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.scale-1px</span><span class="selector-pseudo">::after</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">content</span>:&nbsp;<span class="string">''</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">position</span>:&nbsp;absolute;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">top</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">left</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">1px</span>&nbsp;solid&nbsp;<span class="number">#000</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;-webkit-<span class="attribute">box-sizing</span>:&nbsp;border-box;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">box-sizing</span>:&nbsp;border-box;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">width</span>:&nbsp;<span class="number">200%</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">200%</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;-webkit-<span class="attribute">transform</span>:&nbsp;<span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">transform</span>:&nbsp;<span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;-webkit-<span class="attribute">transform-origin</span>:&nbsp;left&nbsp;top;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">transform-origin</span>:&nbsp;left&nbsp;top;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<h3 id="清除浮動"><a href="#清除浮動" class="headerlink" title="清除浮動"></a><a href="about:blank#%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95" title="清除浮動"></a>清除浮動</h3><p>什麼是浮動：浮動元素會脱離文檔流並向左 &#x2F; 向右浮動，直到碰到父元素或者另一個浮動元素。</p>
<p>為什麼要清楚浮動，它造成了什麼問題？</p>
<p>因為浮動元素會脱離正常的文檔流，並不會佔據文檔流的位置，所以如果一個父元素下面都是浮動元素，那麼這個父元素就無法被浮動元素所撐開，這樣一來父元素就丟失了高度，這就是所謂的浮動造成的父元素高度坍塌問題。</p>
<p>父元素高度一旦坍塌將對後面的元素佈局造成影響，為了解決這個問題，所以需要清除浮動，讓父元素恢復高度，那該如何做呢？</p>
<p>這裏介紹兩種方法：通過 BFC 來清除、通過 clear 來清除。</p>
<h4 id="BFC-清除浮動"><a href="#BFC-清除浮動" class="headerlink" title="BFC 清除浮動"></a><a href="about:blank#BFC-%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95" title="BFC 清除浮動"></a>BFC 清除浮動</h4><p>前面介紹 BFC 的時候提到過，計算 BFC 高度的時候浮動子元素的高度也將計算在內，利用這條規則就可以清楚浮動。</p>
<p>假設一個父元素 parent 內部只有 2 個子元素 child，且它們都是左浮動的，這個時候 parent 如果沒有設置高度的話，因為浮動造成了高度坍塌，所以 parent 的高度會是 0，此時只要給 parent 創造一個 BFC，那它的高度就能恢復了。</p>
<p>而產生 BFC 的方式很多，我們可以給父元素設置 overflow: auto 來簡單的實現 BFC 清除浮動，但是為了兼容 IE 最好用 overflow: hidden。</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">overflow</span>:&nbsp;hidden;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>通過 overflow: hidden 來清除浮動並不完美，當元素有陰影或存在下拉菜單的時候會被截斷，所以該方法使用比較侷限。</p>
<h4 id="通過-clear-清除浮動"><a href="#通過-clear-清除浮動" class="headerlink" title="通過 clear 清除浮動"></a><a href="about:blank#%E9%80%9A%E9%81%8E-clear-%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95" title="通過 clear 清除浮動"></a>通過 clear 清除浮動</h4><p>我先把結論貼出來：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;zoom:&nbsp;<span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">content</span>:&nbsp;<span class="string">""</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">display</span>:&nbsp;block;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">clear</span>:&nbsp;both;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>這種寫法的核心原理就是通過 ::after 偽元素為在父元素的最後一個子元素後面生成一個內容為空的塊級元素，然後通過 clear 將這個偽元素移動到所有它之前的浮動元素的後面，畫個圖來理解一下。</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>可以結合這個 <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/LYbOvOa">codepen demo</a> 一起理解上圖的 clear 清楚浮動原理。</p>
<p>上面這個 demo 或者圖裏為了展示需要所以給偽元素的內容設置為了 ::after，實際使用的時候需要設置為空字符串，讓它的高度為 0，從而父元素的高度都是由實際的子元素撐開。</p>
<p>該方式基本上是現在人人都在用的清除浮動的方案，非常通用。</p>
<p>參考：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/09bd5873bed4">CSS 中的浮動和清除浮動，梳理一下</a></p>
<h3 id="消除瀏覽器默認樣式"><a href="#消除瀏覽器默認樣式" class="headerlink" title="消除瀏覽器默認樣式"></a><a href="about:blank#%E6%B6%88%E9%99%A4%E7%80%8F%E8%A6%BD%E5%99%A8%E9%BB%98%E8%AA%8D%E6%A8%A3%E5%BC%8F" title="消除瀏覽器默認樣式"></a>消除瀏覽器默認樣式</h3><p>針對同一個類型的 HTML 標籤，不同的瀏覽器往往有不同的表現，所以在網站製作的時候，開發者通常都是需要將這些瀏覽器的默認樣式清除，讓網頁在不同的瀏覽器上能夠保持一致。</p>
<p>針對清除瀏覽器默認樣式這件事，在很早之前 CSS 大師 Eric A. Meyer 就幹過。它就是寫一堆通用的樣式用來重置瀏覽器默認樣式，這些樣式通常會放到一個命名為 reset.css 文件中。比如大師的 <a target="_blank" rel="noopener" href="https://meyerweb.com/eric/tools/css/reset/">reset.css</a> 是這麼寫的：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,&nbsp;<span class="selector-tag">body</span>,&nbsp;<span class="selector-tag">div</span>,&nbsp;<span class="selector-tag">span</span>,&nbsp;applet,&nbsp;<span class="selector-tag">object</span>,&nbsp;<span class="selector-tag">iframe</span>,</span><br><span class="line"><span class="selector-tag">h1</span>,&nbsp;<span class="selector-tag">h2</span>,&nbsp;<span class="selector-tag">h3</span>,&nbsp;<span class="selector-tag">h4</span>,&nbsp;<span class="selector-tag">h5</span>,&nbsp;<span class="selector-tag">h6</span>,&nbsp;<span class="selector-tag">p</span>,&nbsp;<span class="selector-tag">blockquote</span>,&nbsp;pre,</span><br><span class="line"><span class="selector-tag">a</span>,&nbsp;<span class="selector-tag">abbr</span>,&nbsp;acronym,&nbsp;<span class="selector-tag">address</span>,&nbsp;big,&nbsp;<span class="selector-tag">cite</span>,&nbsp;<span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">del</span>,&nbsp;<span class="selector-tag">dfn</span>,&nbsp;<span class="selector-tag">em</span>,&nbsp;<span class="selector-tag">img</span>,&nbsp;<span class="selector-tag">ins</span>,&nbsp;<span class="selector-tag">kbd</span>,&nbsp;<span class="selector-tag">q</span>,&nbsp;s,&nbsp;<span class="selector-tag">samp</span>,</span><br><span class="line">small,&nbsp;strike,&nbsp;<span class="selector-tag">strong</span>,&nbsp;sub,&nbsp;<span class="selector-tag">sup</span>,&nbsp;tt,&nbsp;<span class="selector-tag">var</span>,</span><br><span class="line"><span class="selector-tag">b</span>,&nbsp;u,&nbsp;<span class="selector-tag">i</span>,&nbsp;center,</span><br><span class="line"><span class="selector-tag">dl</span>,&nbsp;<span class="selector-tag">dt</span>,&nbsp;<span class="selector-tag">dd</span>,&nbsp;<span class="selector-tag">ol</span>,&nbsp;<span class="selector-tag">ul</span>,&nbsp;<span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-tag">fieldset</span>,&nbsp;<span class="selector-tag">form</span>,&nbsp;<span class="selector-tag">label</span>,&nbsp;<span class="selector-tag">legend</span>,</span><br><span class="line"><span class="selector-tag">table</span>,&nbsp;<span class="selector-tag">caption</span>,&nbsp;<span class="selector-tag">tbody</span>,&nbsp;<span class="selector-tag">tfoot</span>,&nbsp;<span class="selector-tag">thead</span>,&nbsp;<span class="selector-tag">tr</span>,&nbsp;<span class="selector-tag">th</span>,&nbsp;<span class="selector-tag">td</span>,</span><br><span class="line"><span class="selector-tag">article</span>,&nbsp;<span class="selector-tag">aside</span>,&nbsp;<span class="selector-tag">canvas</span>,&nbsp;<span class="selector-tag">details</span>,&nbsp;embed,&nbsp;</span><br><span class="line"><span class="selector-tag">figure</span>,&nbsp;<span class="selector-tag">figcaption</span>,&nbsp;<span class="selector-tag">footer</span>,&nbsp;<span class="selector-tag">header</span>,&nbsp;<span class="selector-tag">hgroup</span>,&nbsp;</span><br><span class="line"><span class="selector-tag">menu</span>,&nbsp;<span class="selector-tag">nav</span>,&nbsp;output,&nbsp;ruby,&nbsp;<span class="selector-tag">section</span>,&nbsp;<span class="selector-tag">summary</span>,</span><br><span class="line"><span class="selector-tag">time</span>,&nbsp;<span class="selector-tag">mark</span>,&nbsp;<span class="selector-tag">audio</span>,&nbsp;<span class="selector-tag">video</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">margin</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">padding</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">font-size</span>:&nbsp;<span class="number">100%</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">font</span>:&nbsp;inherit;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">vertical-align</span>:&nbsp;baseline;</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*&nbsp;HTML5&nbsp;display-role&nbsp;reset&nbsp;for&nbsp;older&nbsp;browsers&nbsp;*/</span></span><br><span class="line"><span class="selector-tag">article</span>,&nbsp;<span class="selector-tag">aside</span>,&nbsp;<span class="selector-tag">details</span>,&nbsp;<span class="selector-tag">figcaption</span>,&nbsp;<span class="selector-tag">figure</span>,&nbsp;</span><br><span class="line"><span class="selector-tag">footer</span>,&nbsp;<span class="selector-tag">header</span>,&nbsp;<span class="selector-tag">hgroup</span>,&nbsp;<span class="selector-tag">menu</span>,&nbsp;<span class="selector-tag">nav</span>,&nbsp;<span class="selector-tag">section</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">display</span>:&nbsp;block;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">body</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">line-height</span>:&nbsp;<span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">ol</span>,&nbsp;<span class="selector-tag">ul</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">list-style</span>:&nbsp;none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">blockquote</span>,&nbsp;<span class="selector-tag">q</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">quotes</span>:&nbsp;none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">blockquote</span>:before,&nbsp;blockquote:after,</span><br><span class="line">q:before,&nbsp;q:after&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;content:&nbsp;<span class="string">''</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">content</span>:&nbsp;none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">table</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-collapse</span>:&nbsp;collapse;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">border-spacing</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>他的這份 reset.css 據説是被使用最廣泛的重設樣式的方案了。</p>
<p>除了 reset.css 外，後來又出現了 <a target="_blank" rel="noopener" href="https://github.com/necolas/normalize.css">Normalize.css</a> 。關於 Normalize.css, 其作者 necolas 專門寫了一篇文章介紹了它，並談到了它和 reset.css 的區別。這個是他寫那篇文章的翻譯版：<a target="_blank" rel="noopener" href="https://jerryzou.com/posts/aboutNormalizeCss/">讓我們談一談 Normalize.css</a>。</p>
<p>文章介紹到：Normalize.css 只是一個很小的 CSS 文件，但它在默認的 HTML 元素樣式上提供了跨瀏覽器的高度一致性。相比於傳統的 CSS reset，Normalize.css 是一種現代的、為 HTML5 準備的優質替代方案，現在已經有很多知名的框架和網站在使用它了。</p>
<p>Normalize.css 的具體樣式可以看這裏 Normalize.css</p>
<p>區別於 reset.css，Normalize.css 有如下特點：</p>
<ul>
<li><p>reset.css 幾乎為所有標籤都設置了默認樣式，而 Normalize.css 則是有選擇性的保護了部分有價值的默認值；</p>
</li>
<li><p>修復了很多瀏覽器的 bug，而這是 reset.css 沒做到的；</p>
</li>
<li><p>不會讓你的調試工具變的雜亂，相反 reset.css 由於設置了很多默認值，所以在瀏覽器調試工具中往往會看到一大堆的繼承樣式，顯得很雜亂；</p>
</li>
<li><p>Normalize.css 是模塊化的，所以可以選擇性的去掉永遠不會用到的部分，比如表單的一般化；</p>
</li>
<li><p>Normalize.css 有詳細的説明文檔；</p>
</li>
</ul>
<h3 id="長文本處理"><a href="#長文本處理" class="headerlink" title="長文本處理"></a><a href="about:blank#%E9%95%B7%E6%96%87%E6%9C%AC%E8%99%95%E7%90%86" title="長文本處理"></a>長文本處理</h3><p><strong>默認：字符太長溢出了容器</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>字符超出部分換行</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>字符超出位置使用連字符</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>單行文本超出省略</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>多行文本超出省略</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>查看以上這些方案的示例： <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/abBrNby">codepen demo</a></p>
<p>有意思的是剛好前兩天看到 chokcoco 針對文本溢出也寫了一篇文章，主要突出的是對整塊的文本溢出處理。啥叫整塊文本？比如，下面這種技術標籤就是屬於整塊文本：</p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>另外他還對 iOS&#x2F;Safari 做了兼容處理，感興趣的可以去閲讀下：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6938583040469762055">CSS 整塊文本溢出省略特性探究</a>。</p>
<h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a><a href="about:blank#%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD" title="水平垂直居中"></a>水平垂直居中</h3><p>讓元素在父元素中呈現出水平垂直居中的形態，無非就 2 種情況：</p>
<ul>
<li><p>單行的文本、inline 或者 inline-block 元素；</p>
</li>
<li><p>固定寬高的塊級盒子；</p>
</li>
<li><p>不固定寬高的塊級盒子；</p>
</li>
</ul>
<p>以下列到的所有水平垂直居中方案這裏寫了個 <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/ymaKoM">codepen demo</a>，配合示例閲讀效果更佳。</p>
<h4 id="單行的文本、inline-或-inline-block-元素"><a href="#單行的文本、inline-或-inline-block-元素" class="headerlink" title="單行的文本、inline 或 inline-block 元素"></a><a href="about:blank#%E5%96%AE%E8%A1%8C%E7%9A%84%E6%96%87%E6%9C%AC%E3%80%81inline-%E6%88%96-inline-block-%E5%85%83%E7%B4%A0" title="單行的文本、inline 或 inline-block 元素"></a>單行的文本、inline 或 inline-block 元素</h4><p><strong>水平居中</strong></p>
<p>此類元素需要水平居中，則父級元素必須是塊級元素 (<code>block level</code>)，且父級元素上需要這樣設置樣式：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">text-align</span>:&nbsp;center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p><strong>垂直居中</strong></p>
<p>方法一：通過設置上下內間距一致達到垂直居中的效果：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.single-line</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">padding-top</span>:&nbsp;<span class="number">10px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">padding-bottom</span>:&nbsp;<span class="number">10px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p>方法二：通過設置 <code>height</code> 和 <code>line-height</code> 一致達到垂直居中：</p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.single-line</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">100px</span>;</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">line-height</span>:&nbsp;<span class="number">100px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<h4 id="固定寬高的塊級盒子"><a href="#固定寬高的塊級盒子" class="headerlink" title="固定寬高的塊級盒子"></a><a href="about:blank#%E5%9B%BA%E5%AE%9A%E5%AF%AC%E9%AB%98%E7%9A%84%E5%A1%8A%E7%B4%9A%E7%9B%92%E5%AD%90" title="固定寬高的塊級盒子"></a>固定寬高的塊級盒子</h4><p><strong>方法一：absolute + 負 margin</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：absolute + margin auto</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法三：absolute + calc</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h4 id="不固定寬高的塊級盒子"><a href="#不固定寬高的塊級盒子" class="headerlink" title="不固定寬高的塊級盒子"></a><a href="about:blank#%E4%B8%8D%E5%9B%BA%E5%AE%9A%E5%AF%AC%E9%AB%98%E7%9A%84%E5%A1%8A%E7%B4%9A%E7%9B%92%E5%AD%90" title="不固定寬高的塊級盒子"></a>不固定寬高的塊級盒子</h4><p>這裏列了 6 種方法，參考了顏海鏡 寫的文章 ，其中的兩種 line-height 和 writing-mode 方案看後讓我驚呼：還有這種操作？學到了學到了。</p>
<p><strong>方法一：absolute + transform</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：line-height + vertical-align</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="640"></p>
<p><strong>方法三：writing-mode</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法四：table-cell</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法五：flex</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法六：grid</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h3 id="常用佈局"><a href="#常用佈局" class="headerlink" title="常用佈局"></a><a href="about:blank#%E5%B8%B8%E7%94%A8%E4%BD%88%E5%B1%80" title="常用佈局"></a>常用佈局</h3><h4 id="兩欄佈局（邊欄定寬主欄自適應）"><a href="#兩欄佈局（邊欄定寬主欄自適應）" class="headerlink" title="兩欄佈局（邊欄定寬主欄自適應）"></a><a href="about:blank#%E5%85%A9%E6%AC%84%E4%BD%88%E5%B1%80%EF%BC%88%E9%82%8A%E6%AC%84%E5%AE%9A%E5%AF%AC%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89" title="兩欄佈局（邊欄定寬主欄自適應）"></a>兩欄佈局（邊欄定寬主欄自適應）</h4><p>針對以下這些方案寫了幾個示例： <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/JjbqxbM">codepen demo</a></p>
<p><strong>方法一：float + overflow（BFC 原理）</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：float + margin</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法三：flex</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法四：grid</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h4 id="三欄佈局（兩側欄定寬主欄自適應）"><a href="#三欄佈局（兩側欄定寬主欄自適應）" class="headerlink" title="三欄佈局（兩側欄定寬主欄自適應）"></a><a href="about:blank#%E4%B8%89%E6%AC%84%E4%BD%88%E5%B1%80%EF%BC%88%E5%85%A9%E5%81%B4%E6%AC%84%E5%AE%9A%E5%AF%AC%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89" title="三欄佈局（兩側欄定寬主欄自適應）"></a>三欄佈局（兩側欄定寬主欄自適應）</h4><p>針對以下這些方案寫了幾個示例： <a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/abBrXrj">codepen demo</a></p>
<p><strong>方法一：聖盃佈局</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：雙飛翼佈局</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法三：float + overflow（BFC 原理）</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法四：flex</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法五：grid</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h4 id="多列等高佈局"><a href="#多列等高佈局" class="headerlink" title="多列等高佈局"></a><a href="about:blank#%E5%A4%9A%E5%88%97%E7%AD%89%E9%AB%98%E4%BD%88%E5%B1%80" title="多列等高佈局"></a>多列等高佈局</h4><p>結合示例閲讀更佳：<a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/jOVogdj">codepen demo</a></p>
<p><strong>方法一：padding + 負 margin</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：設置父級背景圖片</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h4 id="三行佈局（頭尾定高主欄自適應）"><a href="#三行佈局（頭尾定高主欄自適應）" class="headerlink" title="三行佈局（頭尾定高主欄自適應）"></a><a href="about:blank#%E4%B8%89%E8%A1%8C%E4%BD%88%E5%B1%80%EF%BC%88%E9%A0%AD%E5%B0%BE%E5%AE%9A%E9%AB%98%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89" title="三行佈局（頭尾定高主欄自適應）"></a>三行佈局（頭尾定高主欄自適應）</h4><p>列了 4 種方法，都是基於如下的 HTML 和 CSS 的，結合示例閲讀效果更佳：<a target="_blank" rel="noopener" href="https://codepen.io/bulandent/pen/yLVdpvr">codepen demo</a></p>
<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&nbsp;<span class="attr">class</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">div</span>&nbsp;<span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table>

<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-class">.layout</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">100%</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">body</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">margin</span>:&nbsp;<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">header</span>,&nbsp;</span><br><span class="line"><span class="selector-tag">footer</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">height</span>:&nbsp;<span class="number">50px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">main</span>&nbsp;{</span><br><span class="line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="attribute">overflow-y</span>:&nbsp;auto;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table>

<p><strong>方法一：calc</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法二：absolute</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法三：flex</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><strong>方法四：grid</strong></p>
<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="圖片"></p>
<h2 id="結了個尾"><a href="#結了個尾" class="headerlink" title="結了個尾"></a><a href="about:blank#%E7%B5%90%E4%BA%86%E5%80%8B%E5%B0%BE" title="結了個尾"></a>結了個尾</h2><p>這是我斷斷續續寫了 2 周完成的文章，算是自己對 CSS 的一個總結，雖然寫得很長，但不足以覆蓋所有 CSS 的知識，比如動畫和一些 CSS3 的新特性就完全沒涉及，因為這要寫下來估計得有大幾萬字（其實就是懶 😝 ）。</p>
<p>碼字作圖不易，如果喜歡或者對你有絲毫幫助的話，幫忙點個👍 哈，點贊就是我的動力。同時也希望自己能堅持認真的寫下去，因為在總結提升自己的同時如果也能幫助更多的前端 er，那將會讓我感覺很開心。</p>
<p>本文转自 <a target="_blank" rel="noopener" href="https://crazywong.com/posts/css-basic-review/">https://crazywong.com/posts/css-basic-review/</a>，如有侵权，请联系删除。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ethan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://virgodor.github.io/2022/02/14/css/">https://virgodor.github.io/2022/02/14/css/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://VirgoDor.github.io" target="_blank">浮想</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/02/13/JS-DOM%E5%9F%BA%E7%A1%80/"><img class="next-cover" src="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JS-DOM基础</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81NTQ3Ny8zMTk0NA"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./images/tx.PNG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Ethan</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/xxxxx" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/wyiEthan@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E5%92%8C%E7%9F%A5%E8%AD%98%E9%BB%9E"><span class="toc-number">1.</span> <span class="toc-text">核心概念和知識點</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AA%9E%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">語法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%8F%E5%89%87"><span class="toc-number">1.2.</span> <span class="toc-text">@規則</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#charset"><span class="toc-number">1.2.1.</span> <span class="toc-text">@charset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#import"><span class="toc-number">1.2.2.</span> <span class="toc-text">@import</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#supports"><span class="toc-number">1.2.3.</span> <span class="toc-text">@supports</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%A4%E7%96%8A%E6%80%A7"><span class="toc-number">1.3.</span> <span class="toc-text">層疊性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%B8%E6%93%87%E5%99%A8"><span class="toc-number">1.4.</span> <span class="toc-text">選擇器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A4%8E%E9%81%B8%E6%93%87%E5%99%A8"><span class="toc-number">1.4.1.</span> <span class="toc-text">基礎選擇器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B5%84%E5%90%88%E9%81%B8%E6%93%87%E5%99%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">組合選擇器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%BD%E9%A1%9E"><span class="toc-number">1.4.3.</span> <span class="toc-text">偽類</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%BD%E5%85%83%E7%B4%A0"><span class="toc-number">1.4.4.</span> <span class="toc-text">偽元素</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%84%AA%E5%85%88%E7%B4%9A"><span class="toc-number">1.5.</span> <span class="toc-text">優先級</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B9%BC%E6%89%BF%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">繼承性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%AA%94%E6%B5%81"><span class="toc-number">1.7.</span> <span class="toc-text">文檔流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%92%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.8.</span> <span class="toc-text">盒模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%96%E8%A6%BA%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.9.</span> <span class="toc-text">視覺格式化模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#outer-display-type"><span class="toc-number">1.9.1.</span> <span class="toc-text">outer display type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#inner-display-type"><span class="toc-number">1.9.2.</span> <span class="toc-text">inner display type</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">1.10.</span> <span class="toc-text">格式化上下文</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BFC"><span class="toc-number">1.10.1.</span> <span class="toc-text">BFC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IFC"><span class="toc-number">1.10.2.</span> <span class="toc-text">IFC</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%A4%E7%96%8A%E4%B8%8A%E4%B8%8B%E6%96%87"><span class="toc-number">1.11.</span> <span class="toc-text">層疊上下文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E5%92%8C%E5%96%AE%E4%BD%8D"><span class="toc-number">1.12.</span> <span class="toc-text">值和單位</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#px"><span class="toc-number">1.12.1.</span> <span class="toc-text">px</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#em"><span class="toc-number">1.12.2.</span> <span class="toc-text">em</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rem"><span class="toc-number">1.12.3.</span> <span class="toc-text">rem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vw-x2F-vh"><span class="toc-number">1.12.4.</span> <span class="toc-text">vw&#x2F;vh</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%8F%E8%89%B2%E9%AB%94%E7%B3%BB"><span class="toc-number">1.13.</span> <span class="toc-text">顏色體系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%8F%E8%89%B2%E9%97%9C%E9%8D%B5%E5%AD%97"><span class="toc-number">1.13.1.</span> <span class="toc-text">顏色關鍵字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#transparent-%E9%97%9C%E9%8D%B5%E5%AD%97"><span class="toc-number">1.13.2.</span> <span class="toc-text">transparent 關鍵字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#currentColor-%E9%97%9C%E9%8D%B5%E5%AD%97"><span class="toc-number">1.13.3.</span> <span class="toc-text">currentColor 關鍵字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RGB-A-%E9%A1%8F%E8%89%B2"><span class="toc-number">1.13.4.</span> <span class="toc-text">RGB[A] 顏色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HSL-A-%E9%A1%8F%E8%89%B2"><span class="toc-number">1.13.5.</span> <span class="toc-text">HSL[A] 顏色</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AA%92%E9%AB%94%E6%9F%A5%E8%A9%A2"><span class="toc-number">1.14.</span> <span class="toc-text">媒體查詢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A6%8B%E9%9C%80%E6%B1%82"><span class="toc-number">2.</span> <span class="toc-text">常見需求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E7%BE%A9%E5%B1%AC%E6%80%A7"><span class="toc-number">2.1.</span> <span class="toc-text">自定義屬性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1px-%E9%82%8A%E6%A1%86%E8%A7%A3%E6%B1%BA%E6%96%B9%E6%A1%88"><span class="toc-number">2.2.</span> <span class="toc-text">1px 邊框解決方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95"><span class="toc-number">2.3.</span> <span class="toc-text">清除浮動</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BFC-%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">BFC 清除浮動</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E9%81%8E-clear-%E6%B8%85%E9%99%A4%E6%B5%AE%E5%8B%95"><span class="toc-number">2.3.2.</span> <span class="toc-text">通過 clear 清除浮動</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E7%80%8F%E8%A6%BD%E5%99%A8%E9%BB%98%E8%AA%8D%E6%A8%A3%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">消除瀏覽器默認樣式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%95%B7%E6%96%87%E6%9C%AC%E8%99%95%E7%90%86"><span class="toc-number">2.5.</span> <span class="toc-text">長文本處理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD"><span class="toc-number">2.6.</span> <span class="toc-text">水平垂直居中</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%96%AE%E8%A1%8C%E7%9A%84%E6%96%87%E6%9C%AC%E3%80%81inline-%E6%88%96-inline-block-%E5%85%83%E7%B4%A0"><span class="toc-number">2.6.1.</span> <span class="toc-text">單行的文本、inline 或 inline-block 元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E5%AF%AC%E9%AB%98%E7%9A%84%E5%A1%8A%E7%B4%9A%E7%9B%92%E5%AD%90"><span class="toc-number">2.6.2.</span> <span class="toc-text">固定寬高的塊級盒子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%9B%BA%E5%AE%9A%E5%AF%AC%E9%AB%98%E7%9A%84%E5%A1%8A%E7%B4%9A%E7%9B%92%E5%AD%90"><span class="toc-number">2.6.3.</span> <span class="toc-text">不固定寬高的塊級盒子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E4%BD%88%E5%B1%80"><span class="toc-number">2.7.</span> <span class="toc-text">常用佈局</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A9%E6%AC%84%E4%BD%88%E5%B1%80%EF%BC%88%E9%82%8A%E6%AC%84%E5%AE%9A%E5%AF%AC%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89"><span class="toc-number">2.7.1.</span> <span class="toc-text">兩欄佈局（邊欄定寬主欄自適應）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%AC%84%E4%BD%88%E5%B1%80%EF%BC%88%E5%85%A9%E5%81%B4%E6%AC%84%E5%AE%9A%E5%AF%AC%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89"><span class="toc-number">2.7.2.</span> <span class="toc-text">三欄佈局（兩側欄定寬主欄自適應）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%88%97%E7%AD%89%E9%AB%98%E4%BD%88%E5%B1%80"><span class="toc-number">2.7.3.</span> <span class="toc-text">多列等高佈局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E8%A1%8C%E4%BD%88%E5%B1%80%EF%BC%88%E9%A0%AD%E5%B0%BE%E5%AE%9A%E9%AB%98%E4%B8%BB%E6%AC%84%E8%87%AA%E9%81%A9%E6%87%89%EF%BC%89"><span class="toc-number">2.7.4.</span> <span class="toc-text">三行佈局（頭尾定高主欄自適應）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B5%90%E4%BA%86%E5%80%8B%E5%B0%BE"><span class="toc-number">3.</span> <span class="toc-text">結了個尾</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/14/css/" title="css"><img src="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="css"/></a><div class="content"><a class="title" href="/2022/02/14/css/" title="css">css</a><time datetime="2022-02-14T15:24:00.000Z" title="发表于 2022-02-14 23:24:00">2022-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/13/JS-DOM%E5%9F%BA%E7%A1%80/" title="JS-DOM基础"><img src="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS-DOM基础"/></a><div class="content"><a class="title" href="/2022/02/13/JS-DOM%E5%9F%BA%E7%A1%80/" title="JS-DOM基础">JS-DOM基础</a><time datetime="2022-02-13T12:11:35.000Z" title="发表于 2022-02-13 20:11:35">2022-02-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/12/JS%E5%9F%BA%E7%A1%80%EF%BC%88-ECMA-script/" title="JS基础（ ECMA script)"><img src="https://cdn.pixabay.com/photo/2022/01/08/19/13/animal-6924664_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JS基础（ ECMA script)"/></a><div class="content"><a class="title" href="/2022/02/12/JS%E5%9F%BA%E7%A1%80%EF%BC%88-ECMA-script/" title="JS基础（ ECMA script)">JS基础（ ECMA script)</a><time datetime="2022-02-12T15:46:13.000Z" title="发表于 2022-02-12 23:46:13">2022-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/12/%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%96%87%E7%AB%A0/" title="第二个文章"><img src="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第二个文章"/></a><div class="content"><a class="title" href="/2022/02/12/%E7%AC%AC%E4%BA%8C%E4%B8%AA%E6%96%87%E7%AB%A0/" title="第二个文章">第二个文章</a><time datetime="2022-02-12T03:00:04.000Z" title="发表于 2022-02-12 11:00:04">2022-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/12/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%96%87%E7%AB%A0/" title="第一个文章"><img src="https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第一个文章"/></a><div class="content"><a class="title" href="/2022/02/12/%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%96%87%E7%AB%A0/" title="第一个文章">第一个文章</a><time datetime="2022-02-12T02:48:50.000Z" title="发表于 2022-02-12 10:48:50">2022-02-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2019/04/21/21/29/pattern-4145023_1280.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By Ethan</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>